import{A as $i,B as zi,C as Gi,D as Ki,E as Ge,a as vi,b as Ti,c as Ii,d as Ei,e as Ai,f as bi,g as Si,h as Ri,i as ze,j as Pi,k as Vi,l as Ci,m as xi,n as Di,o as Ni,p as fe,r as ki,s as Fi,t as Oi,u as Mi,v as Li,w as qi,x as Ui,y as Bi,z as ji}from"./chunk-DEIWAWW6.js";import{A as Be,C as ai,F as ui,G as ci,H as je,Ha as pi,Ja as yi,Ka as $e,L as ue,La as _i,Ma as wi,R as li,S as ce,W as Nt,ca as le,da as he,fa as z,ga as W,ha as It,ia as kn,ja as hi,ka as di,la as de,ma as Et,na as fi,oa as kt,qa as at,ra as mi,sa as gi,t as si,u as Dt,v as oi,y as oe,z as ae}from"./chunk-72IGGVW3.js";var Qi=(s,e)=>{let i=Dt(Ge),a=Dt($e);return i.isAuthenticated()?(a.navigate(["/inicio"]),!1):!0};var Wi=[{path:"",redirectTo:"inicio",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-SRYTWLPN.js").then(s=>s.LoginPage)},{path:"register",loadComponent:()=>import("./chunk-N5CH5B3S.js").then(s=>s.RegisterPage),canActivate:[Qi]},{path:"inicio",loadComponent:()=>import("./chunk-VWGTFBWP.js").then(s=>s.HomePage)},{path:"contacto",loadComponent:()=>import("./chunk-6ZDRB4GC.js").then(s=>s.Contacto)},{path:"diana",loadComponent:()=>import("./chunk-MMS2EHXZ.js").then(s=>s.PerfilPageDiana)},{path:"sebas",loadComponent:()=>import("./chunk-VOO6IJKA.js").then(s=>s.PerfilPageSebas)},{path:"**",redirectTo:"inicio"}];var Hi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xi={};var Ke,Ji;(function(){var s;function e(g,u){function h(){}h.prototype=u.prototype,g.D=u.prototype,g.prototype=new h,g.prototype.constructor=g,g.C=function(d,f,p){for(var c=Array(arguments.length-2),it=2;it<arguments.length;it++)c[it-2]=arguments[it];return u.prototype[f].apply(d,c)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(g,u,h){h||(h=0);var d=Array(16);if(typeof u=="string")for(var f=0;16>f;++f)d[f]=u.charCodeAt(h++)|u.charCodeAt(h++)<<8|u.charCodeAt(h++)<<16|u.charCodeAt(h++)<<24;else for(f=0;16>f;++f)d[f]=u[h++]|u[h++]<<8|u[h++]<<16|u[h++]<<24;u=g.g[0],h=g.g[1],f=g.g[2];var p=g.g[3],c=u+(p^h&(f^p))+d[0]+3614090360&4294967295;u=h+(c<<7&4294967295|c>>>25),c=p+(f^u&(h^f))+d[1]+3905402710&4294967295,p=u+(c<<12&4294967295|c>>>20),c=f+(h^p&(u^h))+d[2]+606105819&4294967295,f=p+(c<<17&4294967295|c>>>15),c=h+(u^f&(p^u))+d[3]+3250441966&4294967295,h=f+(c<<22&4294967295|c>>>10),c=u+(p^h&(f^p))+d[4]+4118548399&4294967295,u=h+(c<<7&4294967295|c>>>25),c=p+(f^u&(h^f))+d[5]+1200080426&4294967295,p=u+(c<<12&4294967295|c>>>20),c=f+(h^p&(u^h))+d[6]+2821735955&4294967295,f=p+(c<<17&4294967295|c>>>15),c=h+(u^f&(p^u))+d[7]+4249261313&4294967295,h=f+(c<<22&4294967295|c>>>10),c=u+(p^h&(f^p))+d[8]+1770035416&4294967295,u=h+(c<<7&4294967295|c>>>25),c=p+(f^u&(h^f))+d[9]+2336552879&4294967295,p=u+(c<<12&4294967295|c>>>20),c=f+(h^p&(u^h))+d[10]+4294925233&4294967295,f=p+(c<<17&4294967295|c>>>15),c=h+(u^f&(p^u))+d[11]+2304563134&4294967295,h=f+(c<<22&4294967295|c>>>10),c=u+(p^h&(f^p))+d[12]+1804603682&4294967295,u=h+(c<<7&4294967295|c>>>25),c=p+(f^u&(h^f))+d[13]+4254626195&4294967295,p=u+(c<<12&4294967295|c>>>20),c=f+(h^p&(u^h))+d[14]+2792965006&4294967295,f=p+(c<<17&4294967295|c>>>15),c=h+(u^f&(p^u))+d[15]+1236535329&4294967295,h=f+(c<<22&4294967295|c>>>10),c=u+(f^p&(h^f))+d[1]+4129170786&4294967295,u=h+(c<<5&4294967295|c>>>27),c=p+(h^f&(u^h))+d[6]+3225465664&4294967295,p=u+(c<<9&4294967295|c>>>23),c=f+(u^h&(p^u))+d[11]+643717713&4294967295,f=p+(c<<14&4294967295|c>>>18),c=h+(p^u&(f^p))+d[0]+3921069994&4294967295,h=f+(c<<20&4294967295|c>>>12),c=u+(f^p&(h^f))+d[5]+3593408605&4294967295,u=h+(c<<5&4294967295|c>>>27),c=p+(h^f&(u^h))+d[10]+38016083&4294967295,p=u+(c<<9&4294967295|c>>>23),c=f+(u^h&(p^u))+d[15]+3634488961&4294967295,f=p+(c<<14&4294967295|c>>>18),c=h+(p^u&(f^p))+d[4]+3889429448&4294967295,h=f+(c<<20&4294967295|c>>>12),c=u+(f^p&(h^f))+d[9]+568446438&4294967295,u=h+(c<<5&4294967295|c>>>27),c=p+(h^f&(u^h))+d[14]+3275163606&4294967295,p=u+(c<<9&4294967295|c>>>23),c=f+(u^h&(p^u))+d[3]+4107603335&4294967295,f=p+(c<<14&4294967295|c>>>18),c=h+(p^u&(f^p))+d[8]+1163531501&4294967295,h=f+(c<<20&4294967295|c>>>12),c=u+(f^p&(h^f))+d[13]+2850285829&4294967295,u=h+(c<<5&4294967295|c>>>27),c=p+(h^f&(u^h))+d[2]+4243563512&4294967295,p=u+(c<<9&4294967295|c>>>23),c=f+(u^h&(p^u))+d[7]+1735328473&4294967295,f=p+(c<<14&4294967295|c>>>18),c=h+(p^u&(f^p))+d[12]+2368359562&4294967295,h=f+(c<<20&4294967295|c>>>12),c=u+(h^f^p)+d[5]+4294588738&4294967295,u=h+(c<<4&4294967295|c>>>28),c=p+(u^h^f)+d[8]+2272392833&4294967295,p=u+(c<<11&4294967295|c>>>21),c=f+(p^u^h)+d[11]+1839030562&4294967295,f=p+(c<<16&4294967295|c>>>16),c=h+(f^p^u)+d[14]+4259657740&4294967295,h=f+(c<<23&4294967295|c>>>9),c=u+(h^f^p)+d[1]+2763975236&4294967295,u=h+(c<<4&4294967295|c>>>28),c=p+(u^h^f)+d[4]+1272893353&4294967295,p=u+(c<<11&4294967295|c>>>21),c=f+(p^u^h)+d[7]+4139469664&4294967295,f=p+(c<<16&4294967295|c>>>16),c=h+(f^p^u)+d[10]+3200236656&4294967295,h=f+(c<<23&4294967295|c>>>9),c=u+(h^f^p)+d[13]+681279174&4294967295,u=h+(c<<4&4294967295|c>>>28),c=p+(u^h^f)+d[0]+3936430074&4294967295,p=u+(c<<11&4294967295|c>>>21),c=f+(p^u^h)+d[3]+3572445317&4294967295,f=p+(c<<16&4294967295|c>>>16),c=h+(f^p^u)+d[6]+76029189&4294967295,h=f+(c<<23&4294967295|c>>>9),c=u+(h^f^p)+d[9]+3654602809&4294967295,u=h+(c<<4&4294967295|c>>>28),c=p+(u^h^f)+d[12]+3873151461&4294967295,p=u+(c<<11&4294967295|c>>>21),c=f+(p^u^h)+d[15]+530742520&4294967295,f=p+(c<<16&4294967295|c>>>16),c=h+(f^p^u)+d[2]+3299628645&4294967295,h=f+(c<<23&4294967295|c>>>9),c=u+(f^(h|~p))+d[0]+4096336452&4294967295,u=h+(c<<6&4294967295|c>>>26),c=p+(h^(u|~f))+d[7]+1126891415&4294967295,p=u+(c<<10&4294967295|c>>>22),c=f+(u^(p|~h))+d[14]+2878612391&4294967295,f=p+(c<<15&4294967295|c>>>17),c=h+(p^(f|~u))+d[5]+4237533241&4294967295,h=f+(c<<21&4294967295|c>>>11),c=u+(f^(h|~p))+d[12]+1700485571&4294967295,u=h+(c<<6&4294967295|c>>>26),c=p+(h^(u|~f))+d[3]+2399980690&4294967295,p=u+(c<<10&4294967295|c>>>22),c=f+(u^(p|~h))+d[10]+4293915773&4294967295,f=p+(c<<15&4294967295|c>>>17),c=h+(p^(f|~u))+d[1]+2240044497&4294967295,h=f+(c<<21&4294967295|c>>>11),c=u+(f^(h|~p))+d[8]+1873313359&4294967295,u=h+(c<<6&4294967295|c>>>26),c=p+(h^(u|~f))+d[15]+4264355552&4294967295,p=u+(c<<10&4294967295|c>>>22),c=f+(u^(p|~h))+d[6]+2734768916&4294967295,f=p+(c<<15&4294967295|c>>>17),c=h+(p^(f|~u))+d[13]+1309151649&4294967295,h=f+(c<<21&4294967295|c>>>11),c=u+(f^(h|~p))+d[4]+4149444226&4294967295,u=h+(c<<6&4294967295|c>>>26),c=p+(h^(u|~f))+d[11]+3174756917&4294967295,p=u+(c<<10&4294967295|c>>>22),c=f+(u^(p|~h))+d[2]+718787259&4294967295,f=p+(c<<15&4294967295|c>>>17),c=h+(p^(f|~u))+d[9]+3951481745&4294967295,g.g[0]=g.g[0]+u&4294967295,g.g[1]=g.g[1]+(f+(c<<21&4294967295|c>>>11))&4294967295,g.g[2]=g.g[2]+f&4294967295,g.g[3]=g.g[3]+p&4294967295}a.prototype.u=function(g,u){u===void 0&&(u=g.length);for(var h=u-this.blockSize,d=this.B,f=this.h,p=0;p<u;){if(f==0)for(;p<=h;)l(this,g,p),p+=this.blockSize;if(typeof g=="string"){for(;p<u;)if(d[f++]=g.charCodeAt(p++),f==this.blockSize){l(this,d),f=0;break}}else for(;p<u;)if(d[f++]=g[p++],f==this.blockSize){l(this,d),f=0;break}}this.h=f,this.o+=u},a.prototype.v=function(){var g=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);g[0]=128;for(var u=1;u<g.length-8;++u)g[u]=0;var h=8*this.o;for(u=g.length-8;u<g.length;++u)g[u]=h&255,h/=256;for(this.u(g),g=Array(16),u=h=0;4>u;++u)for(var d=0;32>d;d+=8)g[h++]=this.g[u]>>>d&255;return g};function _(g,u){var h=w;return Object.prototype.hasOwnProperty.call(h,g)?h[g]:h[g]=u(g)}function v(g,u){this.h=u;for(var h=[],d=!0,f=g.length-1;0<=f;f--){var p=g[f]|0;d&&p==u||(h[f]=p,d=!1)}this.g=h}var w={};function I(g){return-128<=g&&128>g?_(g,function(u){return new v([u|0],0>u?-1:0)}):new v([g|0],0>g?-1:0)}function V(g){if(isNaN(g)||!isFinite(g))return H;if(0>g)return N(V(-g));for(var u=[],h=1,d=0;g>=h;d++)u[d]=g/h|0,h*=4294967296;return new v(u,0)}function K(g,u){if(g.length==0)throw Error("number format error: empty string");if(u=u||10,2>u||36<u)throw Error("radix out of range: "+u);if(g.charAt(0)=="-")return N(K(g.substring(1),u));if(0<=g.indexOf("-"))throw Error('number format error: interior "-" character');for(var h=V(Math.pow(u,8)),d=H,f=0;f<g.length;f+=8){var p=Math.min(8,g.length-f),c=parseInt(g.substring(f,f+p),u);8>p?(p=V(Math.pow(u,p)),d=d.j(p).add(V(c))):(d=d.j(h),d=d.add(V(c)))}return d}var H=I(0),D=I(1),yt=I(16777216);s=v.prototype,s.m=function(){if(M(this))return-N(this).m();for(var g=0,u=1,h=0;h<this.g.length;h++){var d=this.i(h);g+=(0<=d?d:4294967296+d)*u,u*=4294967296}return g},s.toString=function(g){if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(P(this))return"0";if(M(this))return"-"+N(this).toString(g);for(var u=V(Math.pow(g,6)),h=this,d="";;){var f=ht(h,u).g;h=Rt(h,f.j(u));var p=((0<h.g.length?h.g[0]:h.h)>>>0).toString(g);if(h=f,P(h))return p+d;for(;6>p.length;)p="0"+p;d=p+d}},s.i=function(g){return 0>g?0:g<this.g.length?this.g[g]:this.h};function P(g){if(g.h!=0)return!1;for(var u=0;u<g.g.length;u++)if(g.g[u]!=0)return!1;return!0}function M(g){return g.h==-1}s.l=function(g){return g=Rt(this,g),M(g)?-1:P(g)?0:1};function N(g){for(var u=g.g.length,h=[],d=0;d<u;d++)h[d]=~g.g[d];return new v(h,~g.h).add(D)}s.abs=function(){return M(this)?N(this):this},s.add=function(g){for(var u=Math.max(this.g.length,g.g.length),h=[],d=0,f=0;f<=u;f++){var p=d+(this.i(f)&65535)+(g.i(f)&65535),c=(p>>>16)+(this.i(f)>>>16)+(g.i(f)>>>16);d=c>>>16,p&=65535,c&=65535,h[f]=c<<16|p}return new v(h,h[h.length-1]&-2147483648?-1:0)};function Rt(g,u){return g.add(N(u))}s.j=function(g){if(P(this)||P(g))return H;if(M(this))return M(g)?N(this).j(N(g)):N(N(this).j(g));if(M(g))return N(this.j(N(g)));if(0>this.l(yt)&&0>g.l(yt))return V(this.m()*g.m());for(var u=this.g.length+g.g.length,h=[],d=0;d<2*u;d++)h[d]=0;for(d=0;d<this.g.length;d++)for(var f=0;f<g.g.length;f++){var p=this.i(d)>>>16,c=this.i(d)&65535,it=g.i(f)>>>16,Bt=g.i(f)&65535;h[2*d+2*f]+=c*Bt,tt(h,2*d+2*f),h[2*d+2*f+1]+=p*Bt,tt(h,2*d+2*f+1),h[2*d+2*f+1]+=c*it,tt(h,2*d+2*f+1),h[2*d+2*f+2]+=p*it,tt(h,2*d+2*f+2)}for(d=0;d<u;d++)h[d]=h[2*d+1]<<16|h[2*d];for(d=u;d<2*u;d++)h[d]=0;return new v(h,0)};function tt(g,u){for(;(g[u]&65535)!=g[u];)g[u+1]+=g[u]>>>16,g[u]&=65535,u++}function X(g,u){this.g=g,this.h=u}function ht(g,u){if(P(u))throw Error("division by zero");if(P(g))return new X(H,H);if(M(g))return u=ht(N(g),u),new X(N(u.g),N(u.h));if(M(u))return u=ht(g,N(u)),new X(N(u.g),u.h);if(30<g.g.length){if(M(g)||M(u))throw Error("slowDivide_ only works with positive integers.");for(var h=D,d=u;0>=d.l(g);)h=Ee(h),d=Ee(d);var f=et(h,1),p=et(d,1);for(d=et(d,2),h=et(h,2);!P(d);){var c=p.add(d);0>=c.l(g)&&(f=f.add(h),p=c),d=et(d,1),h=et(h,1)}return u=Rt(g,f.j(u)),new X(f,u)}for(f=H;0<=g.l(u);){for(h=Math.max(1,Math.floor(g.m()/u.m())),d=Math.ceil(Math.log(h)/Math.LN2),d=48>=d?1:Math.pow(2,d-48),p=V(h),c=p.j(u);M(c)||0<c.l(g);)h-=d,p=V(h),c=p.j(u);P(p)&&(p=D),f=f.add(p),g=Rt(g,c)}return new X(f,g)}s.A=function(g){return ht(this,g).h},s.and=function(g){for(var u=Math.max(this.g.length,g.g.length),h=[],d=0;d<u;d++)h[d]=this.i(d)&g.i(d);return new v(h,this.h&g.h)},s.or=function(g){for(var u=Math.max(this.g.length,g.g.length),h=[],d=0;d<u;d++)h[d]=this.i(d)|g.i(d);return new v(h,this.h|g.h)},s.xor=function(g){for(var u=Math.max(this.g.length,g.g.length),h=[],d=0;d<u;d++)h[d]=this.i(d)^g.i(d);return new v(h,this.h^g.h)};function Ee(g){for(var u=g.g.length+1,h=[],d=0;d<u;d++)h[d]=g.i(d)<<1|g.i(d-1)>>>31;return new v(h,g.h)}function et(g,u){var h=u>>5;u%=32;for(var d=g.g.length-h,f=[],p=0;p<d;p++)f[p]=0<u?g.i(p+h)>>>u|g.i(p+h+1)<<32-u:g.i(p+h);return new v(f,g.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Ji=Xi.Md5=a,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=V,v.fromString=K,Ke=Xi.Integer=v}).apply(typeof Hi<"u"?Hi:typeof self<"u"?self:typeof window<"u"?window:{});var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ut={};var Yi,Co,Zi,ts,es,ns,rs,is,ss;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,n,r){return t==Array.prototype||t==Object.prototype||(t[n]=r.value),t};function i(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qe=="object"&&Qe];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}var a=i(this);function l(t,n){if(n)t:{var r=a;t=t.split(".");for(var o=0;o<t.length-1;o++){var m=t[o];if(!(m in r))break t;r=r[m]}t=t[t.length-1],o=r[t],n=n(o),n!=o&&n!=null&&e(r,t,{configurable:!0,writable:!0,value:n})}}function _(t,n){t instanceof String&&(t+="");var r=0,o=!1,m={next:function(){if(!o&&r<t.length){var y=r++;return{value:n(y,t[y]),done:!1}}return o=!0,{done:!0,value:void 0}}};return m[Symbol.iterator]=function(){return m},m}l("Array.prototype.values",function(t){return t||function(){return _(this,function(n,r){return r})}});var v=v||{},w=this||self;function I(t){var n=typeof t;return n=n!="object"?n:t?Array.isArray(t)?"array":n:"null",n=="array"||n=="object"&&typeof t.length=="number"}function V(t){var n=typeof t;return n=="object"&&t!=null||n=="function"}function K(t,n,r){return t.call.apply(t.bind,arguments)}function H(t,n,r){if(!t)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,o),t.apply(n,m)}}return function(){return t.apply(n,arguments)}}function D(t,n,r){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?K:H,D.apply(null,arguments)}function yt(t,n){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),t.apply(this,o)}}function P(t,n){function r(){}r.prototype=n.prototype,t.aa=n.prototype,t.prototype=new r,t.prototype.constructor=t,t.Qb=function(o,m,y){for(var T=Array(arguments.length-2),R=2;R<arguments.length;R++)T[R-2]=arguments[R];return n.prototype[m].apply(o,T)}}function M(t){let n=t.length;if(0<n){let r=Array(n);for(let o=0;o<n;o++)r[o]=t[o];return r}return[]}function N(t,n){for(let r=1;r<arguments.length;r++){let o=arguments[r];if(I(o)){let m=t.length||0,y=o.length||0;t.length=m+y;for(let T=0;T<y;T++)t[m+T]=o[T]}else t.push(o)}}class Rt{constructor(n,r){this.i=n,this.j=r,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}function tt(t){return/^[\s\xa0]*$/.test(t)}function X(){var t=w.navigator;return t&&(t=t.userAgent)?t:""}function ht(t){return ht[" "](t),t}ht[" "]=function(){};var Ee=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function et(t,n,r){for(let o in t)n.call(r,t[o],o,t)}function g(t,n){for(let r in t)n.call(void 0,t[r],r,t)}function u(t){let n={};for(let r in t)n[r]=t[r];return n}let h="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function d(t,n){let r,o;for(let m=1;m<arguments.length;m++){o=arguments[m];for(r in o)t[r]=o[r];for(let y=0;y<h.length;y++)r=h[y],Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}}function f(t){var n=1;t=t.split(":");let r=[];for(;0<n&&t.length;)r.push(t.shift()),n--;return t.length&&r.push(t.join(":")),r}function p(t){w.setTimeout(()=>{throw t},0)}function c(){var t=cn;let n=null;return t.g&&(n=t.g,t.g=t.g.next,t.g||(t.h=null),n.next=null),n}class it{constructor(){this.h=this.g=null}add(n,r){let o=Bt.get();o.set(n,r),this.h?this.h.next=o:this.g=o,this.h=o}}var Bt=new Rt(()=>new Hs,t=>t.reset());class Hs{constructor(){this.next=this.g=this.h=null}set(n,r){this.h=n,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}let jt,$t=!1,cn=new it,ir=()=>{let t=w.Promise.resolve(void 0);jt=()=>{t.then(Xs)}};var Xs=()=>{for(var t;t=c();){try{t.h.call(t.g)}catch(r){p(r)}var n=Bt;n.j(t),100>n.h&&(n.h++,t.next=n.g,n.g=t)}$t=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(t,n){this.type=t,this.g=this.target=n,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var Js=(function(){if(!w.addEventListener||!Object.defineProperty)return!1;var t=!1,n=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let r=()=>{};w.addEventListener("test",r,n),w.removeEventListener("test",r,n)}catch{}return t})();function zt(t,n){if(L.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,o=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=n,n=t.relatedTarget){if(Ee){t:{try{ht(n.nodeName);var m=!0;break t}catch{}m=!1}m||(n=null)}}else r=="mouseover"?n=t.fromElement:r=="mouseout"&&(n=t.toElement);this.relatedTarget=n,o?(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Ys[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zt.aa.h.call(this)}}P(zt,L);var Ys={2:"touch",3:"pen",4:"mouse"};zt.prototype.h=function(){zt.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),Zs=0;function to(t,n,r,o,m){this.listener=t,this.proxy=null,this.src=n,this.type=r,this.capture=!!o,this.ha=m,this.key=++Zs,this.da=this.fa=!1}function Ae(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function be(t){this.src=t,this.g={},this.h=0}be.prototype.add=function(t,n,r,o,m){var y=t.toString();t=this.g[y],t||(t=this.g[y]=[],this.h++);var T=hn(t,n,o,m);return-1<T?(n=t[T],r||(n.fa=!1)):(n=new to(n,this.src,y,!!o,m),n.fa=r,t.push(n)),n};function ln(t,n){var r=n.type;if(r in t.g){var o=t.g[r],m=Array.prototype.indexOf.call(o,n,void 0),y;(y=0<=m)&&Array.prototype.splice.call(o,m,1),y&&(Ae(n),t.g[r].length==0&&(delete t.g[r],t.h--))}}function hn(t,n,r,o){for(var m=0;m<t.length;++m){var y=t[m];if(!y.da&&y.listener==n&&y.capture==!!r&&y.ha==o)return m}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),fn={};function sr(t,n,r,o,m){if(o&&o.once)return ar(t,n,r,o,m);if(Array.isArray(n)){for(var y=0;y<n.length;y++)sr(t,n[y],r,o,m);return null}return r=yn(r),t&&t[Gt]?t.K(n,r,V(o)?!!o.capture:!!o,m):or(t,n,r,!1,o,m)}function or(t,n,r,o,m,y){if(!n)throw Error("Invalid event type");var T=V(m)?!!m.capture:!!m,R=gn(t);if(R||(t[dn]=R=new be(t)),r=R.add(n,r,o,T,y),r.proxy)return r;if(o=eo(),r.proxy=o,o.src=t,o.listener=r,t.addEventListener)Js||(m=T),m===void 0&&(m=!1),t.addEventListener(n.toString(),o,m);else if(t.attachEvent)t.attachEvent(cr(n.toString()),o);else if(t.addListener&&t.removeListener)t.addListener(o);else throw Error("addEventListener and attachEvent are unavailable.");return r}function eo(){function t(r){return n.call(t.src,t.listener,r)}let n=no;return t}function ar(t,n,r,o,m){if(Array.isArray(n)){for(var y=0;y<n.length;y++)ar(t,n[y],r,o,m);return null}return r=yn(r),t&&t[Gt]?t.L(n,r,V(o)?!!o.capture:!!o,m):or(t,n,r,!0,o,m)}function ur(t,n,r,o,m){if(Array.isArray(n))for(var y=0;y<n.length;y++)ur(t,n[y],r,o,m);else o=V(o)?!!o.capture:!!o,r=yn(r),t&&t[Gt]?(t=t.i,n=String(n).toString(),n in t.g&&(y=t.g[n],r=hn(y,r,o,m),-1<r&&(Ae(y[r]),Array.prototype.splice.call(y,r,1),y.length==0&&(delete t.g[n],t.h--)))):t&&(t=gn(t))&&(n=t.g[n.toString()],t=-1,n&&(t=hn(n,r,o,m)),(r=-1<t?n[t]:null)&&mn(r))}function mn(t){if(typeof t!="number"&&t&&!t.da){var n=t.src;if(n&&n[Gt])ln(n.i,t);else{var r=t.type,o=t.proxy;n.removeEventListener?n.removeEventListener(r,o,t.capture):n.detachEvent?n.detachEvent(cr(r),o):n.addListener&&n.removeListener&&n.removeListener(o),(r=gn(n))?(ln(r,t),r.h==0&&(r.src=null,n[dn]=null)):Ae(t)}}}function cr(t){return t in fn?fn[t]:fn[t]="on"+t}function no(t,n){if(t.da)t=!0;else{n=new zt(n,this);var r=t.listener,o=t.ha||t.src;t.fa&&mn(t),t=r.call(o,n)}return t}function gn(t){return t=t[dn],t instanceof be?t:null}var pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return typeof t=="function"?t:(t[pn]||(t[pn]=function(n){return t.handleEvent(n)}),t[pn])}function q(){dt.call(this),this.i=new be(this),this.M=this,this.F=null}P(q,dt),q.prototype[Gt]=!0,q.prototype.removeEventListener=function(t,n,r,o){ur(this,t,n,r,o)};function j(t,n){var r,o=t.F;if(o)for(r=[];o;o=o.F)r.push(o);if(t=t.M,o=n.type||n,typeof n=="string")n=new L(n,t);else if(n instanceof L)n.target=n.target||t;else{var m=n;n=new L(o,t),d(n,m)}if(m=!0,r)for(var y=r.length-1;0<=y;y--){var T=n.g=r[y];m=Se(T,o,!0,n)&&m}if(T=n.g=t,m=Se(T,o,!0,n)&&m,m=Se(T,o,!1,n)&&m,r)for(y=0;y<r.length;y++)T=n.g=r[y],m=Se(T,o,!1,n)&&m}q.prototype.N=function(){if(q.aa.N.call(this),this.i){var t=this.i,n;for(n in t.g){for(var r=t.g[n],o=0;o<r.length;o++)Ae(r[o]);delete t.g[n],t.h--}}this.F=null},q.prototype.K=function(t,n,r,o){return this.i.add(String(t),n,!1,r,o)},q.prototype.L=function(t,n,r,o){return this.i.add(String(t),n,!0,r,o)};function Se(t,n,r,o){if(n=t.i.g[String(n)],!n)return!0;n=n.concat();for(var m=!0,y=0;y<n.length;++y){var T=n[y];if(T&&!T.da&&T.capture==r){var R=T.listener,F=T.ha||T.src;T.fa&&ln(t.i,T),m=R.call(F,o)!==!1&&m}}return m&&!o.defaultPrevented}function lr(t,n,r){if(typeof t=="function")r&&(t=D(t,r));else if(t&&typeof t.handleEvent=="function")t=D(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(n)?-1:w.setTimeout(t,n||0)}function hr(t){t.g=lr(()=>{t.g=null,t.i&&(t.i=!1,hr(t))},t.l);let n=t.h;t.h=null,t.m.apply(null,n)}class ro extends dt{constructor(n,r){super(),this.m=n,this.l=r,this.h=null,this.i=!1,this.g=null}j(n){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(w.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(t){dt.call(this),this.h=t,this.g={}}P(Kt,dt);var dr=[];function fr(t){et(t.g,function(n,r){this.g.hasOwnProperty(r)&&mn(n)},t),t.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),fr(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=w.JSON.stringify,io=w.JSON.parse,so=class{stringify(t){return w.JSON.stringify(t,void 0)}parse(t){return w.JSON.parse(t,void 0)}};function wn(){}wn.prototype.h=null;function mr(t){return t.h||(t.h=t.i())}function gr(){}var Qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vn(){L.call(this,"d")}P(vn,L);function Tn(){L.call(this,"c")}P(Tn,L);var _t={},pr=null;function Re(){return pr=pr||new q}_t.La="serverreachability";function yr(t){L.call(this,_t.La,t)}P(yr,L);function Wt(t){let n=Re();j(n,new yr(n))}_t.STAT_EVENT="statevent";function _r(t,n){L.call(this,_t.STAT_EVENT,t),this.stat=n}P(_r,L);function $(t){let n=Re();j(n,new _r(n,t))}_t.Ma="timingevent";function wr(t,n){L.call(this,_t.Ma,t),this.size=n}P(wr,L);function Ht(t,n){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return w.setTimeout(function(){t()},n)}function Xt(){this.g=!0}Xt.prototype.xa=function(){this.g=!1};function oo(t,n,r,o,m,y){t.info(function(){if(t.g)if(y)for(var T="",R=y.split("&"),F=0;F<R.length;F++){var S=R[F].split("=");if(1<S.length){var U=S[0];S=S[1];var B=U.split("_");T=2<=B.length&&B[1]=="type"?T+(U+"="+S+"&"):T+(U+"=redacted&")}}else T=null;else T=y;return"XMLHTTP REQ ("+o+") [attempt "+m+"]: "+n+`
`+r+`
`+T})}function ao(t,n,r,o,m,y,T){t.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+m+"]: "+n+`
`+r+`
`+y+" "+T})}function Pt(t,n,r,o){t.info(function(){return"XMLHTTP TEXT ("+n+"): "+co(t,r)+(o?" "+o:"")})}function uo(t,n){t.info(function(){return"TIMEOUT: "+n})}Xt.prototype.info=function(){};function co(t,n){if(!t.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r){for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var o=r[t];if(!(2>o.length)){var m=o[1];if(Array.isArray(m)&&!(1>m.length)){var y=m[0];if(y!="noop"&&y!="stop"&&y!="close")for(var T=1;T<m.length;T++)m[T]=""}}}}return _n(r)}catch{return n}}var Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},In;function Ve(){}P(Ve,wn),Ve.prototype.g=function(){return new XMLHttpRequest},Ve.prototype.i=function(){return{}},In=new Ve;function ft(t,n,r,o){this.j=t,this.i=n,this.l=r,this.R=o||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tr}function Tr(){this.i=null,this.g="",this.h=!1}var Ir={},En={};function An(t,n,r){t.L=1,t.v=Ne(st(n)),t.m=r,t.P=!0,Er(t,null)}function Er(t,n){t.F=Date.now(),Ce(t),t.A=st(t.v);var r=t.A,o=t.R;Array.isArray(o)||(o=[String(o)]),Mr(r.i,"t",o),t.C=0,r=t.j.J,t.h=new Tr,t.g=ei(t.j,r?n:null,!t.m),0<t.O&&(t.M=new ro(D(t.Y,t,t.g),t.O)),n=t.U,r=t.g,o=t.ca;var m="readystatechange";Array.isArray(m)||(m&&(dr[0]=m.toString()),m=dr);for(var y=0;y<m.length;y++){var T=sr(r,m[y],o||n.handleEvent,!1,n.h||n);if(!T)break;n.g[T.key]=T}n=t.H?u(t.H):{},t.m?(t.u||(t.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,n)):(t.u="GET",t.g.ea(t.A,t.u,null,n)),Wt(),oo(t.i,t.u,t.A,t.l,t.R,t.m)}ft.prototype.ca=function(t){t=t.target;let n=this.M;n&&ot(t)==3?n.j():this.Y(t)},ft.prototype.Y=function(t){try{if(t==this.g)t:{let B=ot(this.g);var n=this.g.Ba();let xt=this.g.Z();if(!(3>B)&&(B!=3||this.g&&(this.h.h||this.g.oa()||zr(this.g)))){this.J||B!=4||n==7||(n==8||0>=xt?Wt(3):Wt(2)),bn(this);var r=this.g.Z();this.X=r;e:if(Ar(this)){var o=zr(this.g);t="";var m=o.length,y=ot(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wt(this),Jt(this);var T="";break e}this.h.i=new w.TextDecoder}for(n=0;n<m;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:!(y&&n==m-1)});o.length=0,this.h.g+=t,this.C=0,T=this.h.g}else T=this.g.oa();if(this.o=r==200,ao(this.i,this.u,this.A,this.l,this.R,B,r),this.o){if(this.T&&!this.K){e:{if(this.g){var R,F=this.g;if((R=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(R)){var S=R;break e}}S=null}if(r=S)Pt(this.i,this.l,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sn(this,r);else{this.o=!1,this.s=3,$(12),wt(this),Jt(this);break t}}if(this.P){r=!0;let Y;for(;!this.J&&this.C<T.length;)if(Y=lo(this,T),Y==En){B==4&&(this.s=4,$(14),r=!1),Pt(this.i,this.l,null,"[Incomplete Response]");break}else if(Y==Ir){this.s=4,$(15),Pt(this.i,this.l,T,"[Invalid Chunk]"),r=!1;break}else Pt(this.i,this.l,Y,null),Sn(this,Y);if(Ar(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),B!=4||T.length!=0||this.h.h||(this.s=1,$(16),r=!1),this.o=this.o&&r,!r)Pt(this.i,this.l,T,"[Invalid Chunked Response]"),wt(this),Jt(this);else if(0<T.length&&!this.W){this.W=!0;var U=this.j;U.g==this&&U.ba&&!U.M&&(U.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Dn(U),U.M=!0,$(11))}}else Pt(this.i,this.l,T,null),Sn(this,T);B==4&&wt(this),this.o&&!this.J&&(B==4?Jr(this.j,this):(this.o=!1,Ce(this)))}else Po(this.g),r==400&&0<T.indexOf("Unknown SID")?(this.s=3,$(12)):(this.s=0,$(13)),wt(this),Jt(this)}}}catch{}finally{}};function Ar(t){return t.g?t.u=="GET"&&t.L!=2&&t.j.Ca:!1}function lo(t,n){var r=t.C,o=n.indexOf(`
`,r);return o==-1?En:(r=Number(n.substring(r,o)),isNaN(r)?Ir:(o+=1,o+r>n.length?En:(n=n.slice(o,o+r),t.C=o+r,n)))}ft.prototype.cancel=function(){this.J=!0,wt(this)};function Ce(t){t.S=Date.now()+t.I,br(t,t.I)}function br(t,n){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ht(D(t.ba,t),n)}function bn(t){t.B&&(w.clearTimeout(t.B),t.B=null)}ft.prototype.ba=function(){this.B=null;let t=Date.now();0<=t-this.S?(uo(this.i,this.A),this.L!=2&&(Wt(),$(17)),wt(this),this.s=2,Jt(this)):br(this,this.S-t)};function Jt(t){t.j.G==0||t.J||Jr(t.j,t)}function wt(t){bn(t);var n=t.M;n&&typeof n.ma=="function"&&n.ma(),t.M=null,fr(t.U),t.g&&(n=t.g,t.g=null,n.abort(),n.ma())}function Sn(t,n){try{var r=t.j;if(r.G!=0&&(r.g==t||Rn(r.h,t))){if(!t.K&&Rn(r.h,t)&&r.G==3){try{var o=r.Da.g.parse(n)}catch{o=null}if(Array.isArray(o)&&o.length==3){var m=o;if(m[0]==0){t:if(!r.u){if(r.g)if(r.g.F+3e3<t.F)Le(r),Oe(r);else break t;xn(r),$(18)}}else r.za=m[1],0<r.za-r.T&&37500>m[2]&&r.F&&r.v==0&&!r.C&&(r.C=Ht(D(r.Za,r),6e3));if(1>=Pr(r.h)&&r.ca){try{r.ca()}catch{}r.ca=void 0}}else Tt(r,11)}else if((t.K||r.g==t)&&Le(r),!tt(n))for(m=r.Da.g.parse(n),n=0;n<m.length;n++){let S=m[n];if(r.T=S[0],S=S[1],r.G==2)if(S[0]=="c"){r.K=S[1],r.ia=S[2];let U=S[3];U!=null&&(r.la=U,r.j.info("VER="+r.la));let B=S[4];B!=null&&(r.Aa=B,r.j.info("SVER="+r.Aa));let xt=S[5];xt!=null&&typeof xt=="number"&&0<xt&&(o=1.5*xt,r.L=o,r.j.info("backChannelRequestTimeoutMs_="+o)),o=r;let Y=t.g;if(Y){let Ue=Y.g?Y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ue){var y=o.h;y.g||Ue.indexOf("spdy")==-1&&Ue.indexOf("quic")==-1&&Ue.indexOf("h2")==-1||(y.j=y.l,y.g=new Set,y.h&&(Pn(y,y.h),y.h=null))}if(o.D){let Nn=Y.g?Y.g.getResponseHeader("X-HTTP-Session-Id"):null;Nn&&(o.ya=Nn,C(o.I,o.D,Nn))}}r.G=3,r.l&&r.l.ua(),r.ba&&(r.R=Date.now()-t.F,r.j.info("Handshake RTT: "+r.R+"ms")),o=r;var T=t;if(o.qa=ti(o,o.J?o.ia:null,o.W),T.K){Vr(o.h,T);var R=T,F=o.L;F&&(R.I=F),R.B&&(bn(R),Ce(R)),o.g=T}else Hr(o);0<r.i.length&&Me(r)}else S[0]!="stop"&&S[0]!="close"||Tt(r,7);else r.G==3&&(S[0]=="stop"||S[0]=="close"?S[0]=="stop"?Tt(r,7):Cn(r):S[0]!="noop"&&r.l&&r.l.ta(S),r.v=0)}}Wt(4)}catch{}}var ho=class{constructor(t,n){this.g=t,this.map=n}};function Sr(t){this.l=t||10,w.PerformanceNavigationTiming?(t=w.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(w.chrome&&w.chrome.loadTimes&&w.chrome.loadTimes()&&w.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rr(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Pr(t){return t.h?1:t.g?t.g.size:0}function Rn(t,n){return t.h?t.h==n:t.g?t.g.has(n):!1}function Pn(t,n){t.g?t.g.add(n):t.h=n}function Vr(t,n){t.h&&t.h==n?t.h=null:t.g&&t.g.has(n)&&t.g.delete(n)}Sr.prototype.cancel=function(){if(this.i=Cr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Cr(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let n=t.i;for(let r of t.g.values())n=n.concat(r.D);return n}return M(t.i)}function fo(t){if(t.V&&typeof t.V=="function")return t.V();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(I(t)){for(var n=[],r=t.length,o=0;o<r;o++)n.push(t[o]);return n}n=[],r=0;for(o in t)n[r++]=t[o];return n}function mo(t){if(t.na&&typeof t.na=="function")return t.na();if(!t.V||typeof t.V!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(I(t)||typeof t=="string"){var n=[];t=t.length;for(var r=0;r<t;r++)n.push(r);return n}n=[],r=0;for(let o in t)n[r++]=o;return n}}}function xr(t,n){if(t.forEach&&typeof t.forEach=="function")t.forEach(n,void 0);else if(I(t)||typeof t=="string")Array.prototype.forEach.call(t,n,void 0);else for(var r=mo(t),o=fo(t),m=o.length,y=0;y<m;y++)n.call(void 0,o[y],r&&r[y],t)}var Dr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function go(t,n){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var o=t[r].indexOf("="),m=null;if(0<=o){var y=t[r].substring(0,o);m=t[r].substring(o+1)}else y=t[r];n(y,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function vt(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof vt){this.h=t.h,xe(this,t.j),this.o=t.o,this.g=t.g,De(this,t.s),this.l=t.l;var n=t.i,r=new te;r.i=n.i,n.g&&(r.g=new Map(n.g),r.h=n.h),Nr(this,r),this.m=t.m}else t&&(n=String(t).match(Dr))?(this.h=!1,xe(this,n[1]||"",!0),this.o=Yt(n[2]||""),this.g=Yt(n[3]||"",!0),De(this,n[4]),this.l=Yt(n[5]||"",!0),Nr(this,n[6]||"",!0),this.m=Yt(n[7]||"")):(this.h=!1,this.i=new te(null,this.h))}vt.prototype.toString=function(){var t=[],n=this.j;n&&t.push(Zt(n,kr,!0),":");var r=this.g;return(r||n=="file")&&(t.push("//"),(n=this.o)&&t.push(Zt(n,kr,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.s,r!=null&&t.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&t.push("/"),t.push(Zt(r,r.charAt(0)=="/"?_o:yo,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.m)&&t.push("#",Zt(r,vo)),t.join("")};function st(t){return new vt(t)}function xe(t,n,r){t.j=r?Yt(n,!0):n,t.j&&(t.j=t.j.replace(/:$/,""))}function De(t,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);t.s=n}else t.s=null}function Nr(t,n,r){n instanceof te?(t.i=n,To(t.i,t.h)):(r||(n=Zt(n,wo)),t.i=new te(n,t.h))}function C(t,n,r){t.i.set(n,r)}function Ne(t){return C(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Yt(t,n){return t?n?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zt(t,n,r){return typeof t=="string"?(t=encodeURI(t).replace(n,po),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function po(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var kr=/[#\/\?@]/g,yo=/[#\?:]/g,_o=/[#\?]/g,wo=/[#\?@]/g,vo=/#/g;function te(t,n){this.h=this.g=null,this.i=t||null,this.j=!!n}function mt(t){t.g||(t.g=new Map,t.h=0,t.i&&go(t.i,function(n,r){t.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}s=te.prototype,s.add=function(t,n){mt(this),this.i=null,t=Vt(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(n),this.h+=1,this};function Fr(t,n){mt(t),n=Vt(t,n),t.g.has(n)&&(t.i=null,t.h-=t.g.get(n).length,t.g.delete(n))}function Or(t,n){return mt(t),n=Vt(t,n),t.g.has(n)}s.forEach=function(t,n){mt(this),this.g.forEach(function(r,o){r.forEach(function(m){t.call(n,m,o,this)},this)},this)},s.na=function(){mt(this);let t=Array.from(this.g.values()),n=Array.from(this.g.keys()),r=[];for(let o=0;o<n.length;o++){let m=t[o];for(let y=0;y<m.length;y++)r.push(n[o])}return r},s.V=function(t){mt(this);let n=[];if(typeof t=="string")Or(this,t)&&(n=n.concat(this.g.get(Vt(this,t))));else{t=Array.from(this.g.values());for(let r=0;r<t.length;r++)n=n.concat(t[r])}return n},s.set=function(t,n){return mt(this),this.i=null,t=Vt(this,t),Or(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[n]),this.h+=1,this},s.get=function(t,n){return t?(t=this.V(t),0<t.length?String(t[0]):n):n};function Mr(t,n,r){Fr(t,n),0<r.length&&(t.i=null,t.g.set(Vt(t,n),M(r)),t.h+=r.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],n=Array.from(this.g.keys());for(var r=0;r<n.length;r++){var o=n[r];let y=encodeURIComponent(String(o)),T=this.V(o);for(o=0;o<T.length;o++){var m=y;T[o]!==""&&(m+="="+encodeURIComponent(String(T[o]))),t.push(m)}}return this.i=t.join("&")};function Vt(t,n){return n=String(n),t.j&&(n=n.toLowerCase()),n}function To(t,n){n&&!t.j&&(mt(t),t.i=null,t.g.forEach(function(r,o){var m=o.toLowerCase();o!=m&&(Fr(this,o),Mr(this,m,r))},t)),t.j=n}function Io(t,n){let r=new Xt;if(w.Image){let o=new Image;o.onload=yt(gt,r,"TestLoadImage: loaded",!0,n,o),o.onerror=yt(gt,r,"TestLoadImage: error",!1,n,o),o.onabort=yt(gt,r,"TestLoadImage: abort",!1,n,o),o.ontimeout=yt(gt,r,"TestLoadImage: timeout",!1,n,o),w.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=t}else n(!1)}function Eo(t,n){let r=new Xt,o=new AbortController,m=setTimeout(()=>{o.abort(),gt(r,"TestPingServer: timeout",!1,n)},1e4);fetch(t,{signal:o.signal}).then(y=>{clearTimeout(m),y.ok?gt(r,"TestPingServer: ok",!0,n):gt(r,"TestPingServer: server error",!1,n)}).catch(()=>{clearTimeout(m),gt(r,"TestPingServer: error",!1,n)})}function gt(t,n,r,o,m){try{m&&(m.onload=null,m.onerror=null,m.onabort=null,m.ontimeout=null),o(r)}catch{}}function Ao(){this.g=new so}function bo(t,n,r){let o=r||"";try{xr(t,function(m,y){let T=m;V(m)&&(T=_n(m)),n.push(o+y+"="+encodeURIComponent(T))})}catch(m){throw n.push(o+"type="+encodeURIComponent("_badmap")),m}}function ee(t){this.l=t.Ub||null,this.j=t.eb||!1}P(ee,wn),ee.prototype.g=function(){return new ke(this.l,this.j)},ee.prototype.i=(function(t){return function(){return t}})({});function ke(t,n){q.call(this),this.D=t,this.o=n,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ke,q),s=ke.prototype,s.open=function(t,n){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=n,this.readyState=1,re(this)},s.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let n={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(n.body=t),(this.D||w).fetch(new Request(this.A,n)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ne(this)),this.readyState=0},s.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,re(this)),this.g&&(this.readyState=3,re(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof w.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lr(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lr(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}s.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var n=t.value?t.value:new Uint8Array(0);(n=this.v.decode(n,{stream:!t.done}))&&(this.response=this.responseText+=n)}t.done?ne(this):re(this),this.readyState==3&&Lr(this)}},s.Ra=function(t){this.g&&(this.response=this.responseText=t,ne(this))},s.Qa=function(t){this.g&&(this.response=t,ne(this))},s.ga=function(){this.g&&ne(this)};function ne(t){t.readyState=4,t.l=null,t.j=null,t.v=null,re(t)}s.setRequestHeader=function(t,n){this.u.append(t,n)},s.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],n=this.h.entries();for(var r=n.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=n.next();return t.join(`\r
`)};function re(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ke.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});function qr(t){let n="";return et(t,function(r,o){n+=o,n+=":",n+=r,n+=`\r
`}),n}function Vn(t,n,r){t:{for(o in r){var o=!1;break t}o=!0}o||(r=qr(r),typeof t=="string"?r!=null&&encodeURIComponent(String(r)):C(t,n,r))}function x(t){q.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(x,q);var So=/^https?$/i,Ro=["POST","PUT"];s=x.prototype,s.Ha=function(t){this.J=t},s.ea=function(t,n,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);n=n?n.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():In.g(),this.v=this.o?mr(this.o):mr(In),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(n,String(t),!0),this.B=!1}catch(y){Ur(this,y);return}if(t=r||"",r=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var m in o)r.set(m,o[m]);else if(typeof o.keys=="function"&&typeof o.get=="function")for(let y of o.keys())r.set(y,o.get(y));else throw Error("Unknown input type for opt_headers: "+String(o));o=Array.from(r.keys()).find(y=>y.toLowerCase()=="content-type"),m=w.FormData&&t instanceof w.FormData,!(0<=Array.prototype.indexOf.call(Ro,n,void 0))||o||m||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[y,T]of r)this.g.setRequestHeader(y,T);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$r(this),this.u=!0,this.g.send(t),this.u=!1}catch(y){Ur(this,y)}};function Ur(t,n){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=n,t.m=5,Br(t),Fe(t)}function Br(t){t.A||(t.A=!0,j(t,"complete"),j(t,"error"))}s.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,j(this,"complete"),j(this,"abort"),Fe(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fe(this,!0)),x.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?jr(this):this.bb())},s.bb=function(){jr(this)};function jr(t){if(t.h&&typeof v<"u"&&(!t.v[1]||ot(t)!=4||t.Z()!=2)){if(t.u&&ot(t)==4)lr(t.Ea,0,t);else if(j(t,"readystatechange"),ot(t)==4){t.h=!1;try{let T=t.Z();t:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var o;if(o=T===0){var m=String(t.D).match(Dr)[1]||null;!m&&w.self&&w.self.location&&(m=w.self.location.protocol.slice(0,-1)),o=!So.test(m?m.toLowerCase():"")}r=o}if(r)j(t,"complete"),j(t,"success");else{t.m=6;try{var y=2<ot(t)?t.g.statusText:""}catch{y=""}t.l=y+" ["+t.Z()+"]",Br(t)}}finally{Fe(t)}}}}function Fe(t,n){if(t.g){$r(t);let r=t.g,o=t.v[0]?()=>{}:null;t.g=null,t.v=null,n||j(t,"ready");try{r.onreadystatechange=o}catch{}}}function $r(t){t.I&&(w.clearTimeout(t.I),t.I=null)}s.isActive=function(){return!!this.g};function ot(t){return t.g?t.g.readyState:0}s.Z=function(){try{return 2<ot(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(t){if(this.g){var n=this.g.responseText;return t&&n.indexOf(t)==0&&(n=n.substring(t.length)),io(n)}};function zr(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Po(t){let n={};t=(t.g&&2<=ot(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let o=0;o<t.length;o++){if(tt(t[o]))continue;var r=f(t[o]);let m=r[0];if(r=r[1],typeof r!="string")continue;r=r.trim();let y=n[m]||[];n[m]=y,y.push(r)}g(n,function(o){return o.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ie(t,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||n}function Gr(t){this.Aa=0,this.i=[],this.j=new Xt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ie("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ie("baseRetryDelayMs",5e3,t),this.cb=ie("retryDelaySeedMs",1e4,t),this.Wa=ie("forwardChannelMaxRetries",2,t),this.wa=ie("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Sr(t&&t.concurrentRequestLimit),this.Da=new Ao,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Gr.prototype,s.la=8,s.G=1,s.connect=function(t,n,r,o){$(0),this.W=t,this.H=n||{},r&&o!==void 0&&(this.H.OSID=r,this.H.OAID=o),this.F=this.X,this.I=ti(this,null,this.W),Me(this)};function Cn(t){if(Kr(t),t.G==3){var n=t.U++,r=st(t.I);if(C(r,"SID",t.K),C(r,"RID",n),C(r,"TYPE","terminate"),se(t,r),n=new ft(t,t.j,n),n.L=2,n.v=Ne(st(r)),r=!1,w.navigator&&w.navigator.sendBeacon)try{r=w.navigator.sendBeacon(n.v.toString(),"")}catch{}!r&&w.Image&&(new Image().src=n.v,r=!0),r||(n.g=ei(n.j,null),n.g.ea(n.v)),n.F=Date.now(),Ce(n)}Zr(t)}function Oe(t){t.g&&(Dn(t),t.g.cancel(),t.g=null)}function Kr(t){Oe(t),t.u&&(w.clearTimeout(t.u),t.u=null),Le(t),t.h.cancel(),t.s&&(typeof t.s=="number"&&w.clearTimeout(t.s),t.s=null)}function Me(t){if(!Rr(t.h)&&!t.s){t.s=!0;var n=t.Ga;jt||ir(),$t||(jt(),$t=!0),cn.add(n,t),t.B=0}}function Vo(t,n){return Pr(t.h)>=t.h.j-(t.s?1:0)?!1:t.s?(t.i=n.D.concat(t.i),!0):t.G==1||t.G==2||t.B>=(t.Va?0:t.Wa)?!1:(t.s=Ht(D(t.Ga,t,n),Yr(t,t.B)),t.B++,!0)}s.Ga=function(t){if(this.s)if(this.s=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;let m=new ft(this,this.j,t),y=this.o;if(this.S&&(y?(y=u(y),d(y,this.S)):y=this.S),this.m!==null||this.O||(m.H=y,y=null),this.P)t:{for(var n=0,r=0;r<this.i.length;r++){e:{var o=this.i[r];if("__data__"in o.map&&(o=o.map.__data__,typeof o=="string")){o=o.length;break e}o=void 0}if(o===void 0)break;if(n+=o,4096<n){n=r;break t}if(n===4096||r===this.i.length-1){n=r+1;break t}}n=1e3}else n=1e3;n=Wr(this,m,n),r=st(this.I),C(r,"RID",t),C(r,"CVER",22),this.D&&C(r,"X-HTTP-Session-Id",this.D),se(this,r),y&&(this.O?n="headers="+encodeURIComponent(String(qr(y)))+"&"+n:this.m&&Vn(r,this.m,y)),Pn(this.h,m),this.Ua&&C(r,"TYPE","init"),this.P?(C(r,"$req",n),C(r,"SID","null"),m.T=!0,An(m,r,null)):An(m,r,n),this.G=2}}else this.G==3&&(t?Qr(this,t):this.i.length==0||Rr(this.h)||Qr(this))};function Qr(t,n){var r;n?r=n.l:r=t.U++;let o=st(t.I);C(o,"SID",t.K),C(o,"RID",r),C(o,"AID",t.T),se(t,o),t.m&&t.o&&Vn(o,t.m,t.o),r=new ft(t,t.j,r,t.B+1),t.m===null&&(r.H=t.o),n&&(t.i=n.D.concat(t.i)),n=Wr(t,r,1e3),r.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),Pn(t.h,r),An(r,o,n)}function se(t,n){t.H&&et(t.H,function(r,o){C(n,o,r)}),t.l&&xr({},function(r,o){C(n,o,r)})}function Wr(t,n,r){r=Math.min(t.i.length,r);var o=t.l?D(t.l.Na,t.l,t):null;t:{var m=t.i;let y=-1;for(;;){let T=["count="+r];y==-1?0<r?(y=m[0].g,T.push("ofs="+y)):y=0:T.push("ofs="+y);let R=!0;for(let F=0;F<r;F++){let S=m[F].g,U=m[F].map;if(S-=y,0>S)y=Math.max(0,m[F].g-100),R=!1;else try{bo(U,T,"req"+S+"_")}catch{o&&o(U)}}if(R){o=T.join("&");break t}}}return t=t.i.splice(0,r),n.D=t,o}function Hr(t){if(!t.g&&!t.u){t.Y=1;var n=t.Fa;jt||ir(),$t||(jt(),$t=!0),cn.add(n,t),t.v=0}}function xn(t){return t.g||t.u||3<=t.v?!1:(t.Y++,t.u=Ht(D(t.Fa,t),Yr(t,t.v)),t.v++,!0)}s.Fa=function(){if(this.u=null,Xr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=Ht(D(this.ab,this),t)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$(10),Oe(this),Xr(this))};function Dn(t){t.A!=null&&(w.clearTimeout(t.A),t.A=null)}function Xr(t){t.g=new ft(t,t.j,"rpc",t.Y),t.m===null&&(t.g.H=t.o),t.g.O=0;var n=st(t.qa);C(n,"RID","rpc"),C(n,"SID",t.K),C(n,"AID",t.T),C(n,"CI",t.F?"0":"1"),!t.F&&t.ja&&C(n,"TO",t.ja),C(n,"TYPE","xmlhttp"),se(t,n),t.m&&t.o&&Vn(n,t.m,t.o),t.L&&(t.g.I=t.L);var r=t.g;t=t.ia,r.L=1,r.v=Ne(st(n)),r.m=null,r.P=!0,Er(r,t)}s.Za=function(){this.C!=null&&(this.C=null,Oe(this),xn(this),$(19))};function Le(t){t.C!=null&&(w.clearTimeout(t.C),t.C=null)}function Jr(t,n){var r=null;if(t.g==n){Le(t),Dn(t),t.g=null;var o=2}else if(Rn(t.h,n))r=n.D,Vr(t.h,n),o=1;else return;if(t.G!=0){if(n.o)if(o==1){r=n.m?n.m.length:0,n=Date.now()-n.F;var m=t.B;o=Re(),j(o,new wr(o,r)),Me(t)}else Hr(t);else if(m=n.s,m==3||m==0&&0<n.X||!(o==1&&Vo(t,n)||o==2&&xn(t)))switch(r&&0<r.length&&(n=t.h,n.i=n.i.concat(r)),m){case 1:Tt(t,5);break;case 4:Tt(t,10);break;case 3:Tt(t,6);break;default:Tt(t,2)}}}function Yr(t,n){let r=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(r*=2),r*n}function Tt(t,n){if(t.j.info("Error code "+n),n==2){var r=D(t.fb,t),o=t.Xa;let m=!o;o=new vt(o||"//www.google.com/images/cleardot.gif"),w.location&&w.location.protocol=="http"||xe(o,"https"),Ne(o),m?Io(o.toString(),r):Eo(o.toString(),r)}else $(2);t.G=0,t.l&&t.l.sa(n),Zr(t),Kr(t)}s.fb=function(t){t?(this.j.info("Successfully pinged google.com"),$(2)):(this.j.info("Failed to ping google.com"),$(1))};function Zr(t){if(t.G=0,t.ka=[],t.l){let n=Cr(t.h);(n.length!=0||t.i.length!=0)&&(N(t.ka,n),N(t.ka,t.i),t.h.i.length=0,M(t.i),t.i.length=0),t.l.ra()}}function ti(t,n,r){var o=r instanceof vt?st(r):new vt(r);if(o.g!="")n&&(o.g=n+"."+o.g),De(o,o.s);else{var m=w.location;o=m.protocol,n=n?n+"."+m.hostname:m.hostname,m=+m.port;var y=new vt(null);o&&xe(y,o),n&&(y.g=n),m&&De(y,m),r&&(y.l=r),o=y}return r=t.D,n=t.ya,r&&n&&C(o,r,n),C(o,"VER",t.la),se(t,o),o}function ei(t,n,r){if(n&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return n=t.Ca&&!t.pa?new x(new ee({eb:r})):new x(t.pa),n.Ha(t.J),n}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ni(){}s=ni.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function qe(){}qe.prototype.g=function(t,n){return new Q(t,n)};function Q(t,n){q.call(this),this.g=new Gr(n),this.l=t,this.h=n&&n.messageUrlParams||null,t=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(t?t["X-WebChannel-Content-Type"]=n.messageContentType:t={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.va&&(t?t["X-WebChannel-Client-Profile"]=n.va:t={"X-WebChannel-Client-Profile":n.va}),this.g.S=t,(t=n&&n.Sb)&&!tt(t)&&(this.g.m=t),this.v=n&&n.supportsCrossDomainXhr||!1,this.u=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!tt(n)&&(this.g.D=n,t=this.h,t!==null&&n in t&&(t=this.h,n in t&&delete t[n])),this.j=new Ct(this)}P(Q,q),Q.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Q.prototype.close=function(){Cn(this.g)},Q.prototype.o=function(t){var n=this.g;if(typeof t=="string"){var r={};r.__data__=t,t=r}else this.u&&(r={},r.__data__=_n(t),t=r);n.i.push(new ho(n.Ya++,t)),n.G==3&&Me(n)},Q.prototype.N=function(){this.g.l=null,delete this.j,Cn(this.g),delete this.g,Q.aa.N.call(this)};function ri(t){vn.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var n=t.__sm__;if(n){t:{for(let r in n){t=r;break t}t=void 0}(this.i=t)&&(t=this.i,n=n!==null&&t in n?n[t]:void 0),this.data=n}else this.data=t}P(ri,vn);function ii(){Tn.call(this),this.status=1}P(ii,Tn);function Ct(t){this.g=t}P(Ct,ni),Ct.prototype.ua=function(){j(this.g,"a")},Ct.prototype.ta=function(t){j(this.g,new ri(t))},Ct.prototype.sa=function(t){j(this.g,new ii)},Ct.prototype.ra=function(){j(this.g,"b")},qe.prototype.createWebChannel=qe.prototype.g,Q.prototype.send=Q.prototype.o,Q.prototype.open=Q.prototype.m,Q.prototype.close=Q.prototype.close,ss=ut.createWebChannelTransport=function(){return new qe},is=ut.getStatEventTarget=function(){return Re()},rs=ut.Event=_t,ns=ut.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,es=ut.ErrorCode=Pe,vr.COMPLETE="complete",ts=ut.EventType=vr,gr.EventType=Qt,Qt.OPEN="a",Qt.CLOSE="b",Qt.ERROR="c",Qt.MESSAGE="d",q.prototype.listen=q.prototype.K,Zi=ut.WebChannel=gr,Co=ut.FetchXmlHttpFactory=ee,x.prototype.listenOnce=x.prototype.L,x.prototype.getLastError=x.prototype.Ka,x.prototype.getLastErrorCode=x.prototype.Ba,x.prototype.getStatus=x.prototype.Z,x.prototype.getResponseJson=x.prototype.Oa,x.prototype.getResponseText=x.prototype.oa,x.prototype.send=x.prototype.ea,x.prototype.setWithCredentials=x.prototype.Ha,Yi=ut.XhrIo=x}).apply(typeof Qe<"u"?Qe:typeof self<"u"?self:typeof window<"u"?window:{});var os="@firebase/firestore",as="4.8.0";var O=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};O.UNAUTHENTICATED=new O(null),O.GOOGLE_CREDENTIALS=new O("google-credentials-uid"),O.FIRST_PARTY=new O("first-party-uid"),O.MOCK_USER=new O("mock-user");var ve="11.10.0";var qt=new Pi("@firebase/firestore");function Z(s,...e){if(qt.logLevel<=ze.DEBUG){let i=e.map(er);qt.debug(`Firestore (${ve}): ${s}`,...i)}}function vs(s,...e){if(qt.logLevel<=ze.ERROR){let i=e.map(er);qt.error(`Firestore (${ve}): ${s}`,...i)}}function xo(s,...e){if(qt.logLevel<=ze.WARN){let i=e.map(er);qt.warn(`Firestore (${ve}): ${s}`,...i)}}function er(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function G(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Ts(s,a,i)}function Ts(s,e,i){let a=`FIRESTORE (${ve}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw vs(a),new Error(a)}function At(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||Ts(e,l,a)}var b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=class extends bi{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var bt=class{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}};var We=class{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},On=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(O.UNAUTHENTICATED))}shutdown(){}},Mn=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}},Ln=class{constructor(e){this.t=e,this.currentUser=O.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){At(this.o===void 0,42304);let a=this.i,l=I=>this.i!==a?(a=this.i,i(I)):Promise.resolve(),_=new bt;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new bt,e.enqueueRetryable(()=>l(this.currentUser))};let v=()=>{let I=_;e.enqueueRetryable(async()=>{await I.promise,await l(this.currentUser)})},w=I=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.o&&(this.auth.addAuthTokenListener(this.o),v())};this.t.onInit(I=>w(I)),setTimeout(()=>{if(!this.auth){let I=this.t.getImmediate({optional:!0});I?w(I):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new bt)}},0),v()}getToken(){let e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(At(typeof a.accessToken=="string",31837,{l:a}),new We(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new O(e)}},qn=class{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=O.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Un=class{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new qn(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(O.FIRST_PARTY))}shutdown(){}invalidateToken(){}},He=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Bn=class{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){At(this.o===void 0,3512);let a=_=>{_.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);let v=_.token!==this.m;return this.m=_.token,Z("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?i(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable(()=>a(_))};let l=_=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(_=>l(_)),setTimeout(()=>{if(!this.appCheck){let _=this.V.getImmediate({optional:!0});_?l(_):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new He(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(At(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new He(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Do(s){let e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}function No(){return new TextEncoder}var jn=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516),a="";for(;a.length<20;){let l=Do(40);for(let _=0;_<l.length;++_)a.length<20&&l[_]<i&&(a+=e.charAt(l[_]%62))}return a}};function J(s,e){return s<e?-1:s>e?1:0}function ko(s,e){let i=0;for(;i<s.length&&i<e.length;){let a=s.codePointAt(i),l=e.codePointAt(i);if(a!==l){if(a<128&&l<128)return J(a,l);{let _=No(),v=Fo(_.encode(us(s,i)),_.encode(us(e,i)));return v!==0?v:J(a,l)}}i+=a>65535?2:1}return J(s.length,e.length)}function us(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function Fo(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return J(s[i],e[i]);return J(s.length,e.length)}var cs="__name__",Xe=class s{constructor(e,i,a){i===void 0?i=0:i>e.length&&G(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&G(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return s.comparator(this,e)===0}child(e){let i=this.segments.slice(this.offset,this.limit());return e instanceof s?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){let a=Math.min(e.length,i.length);for(let l=0;l<a;l++){let _=s.compareSegments(e.get(l),i.get(l));if(_!==0)return _}return J(e.length,i.length)}static compareSegments(e,i){let a=s.isNumericId(e),l=s.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?s.extractNumericId(e).compare(s.extractNumericId(i)):ko(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ke.fromString(e.substring(4,e.length-2))}},ct=class s extends Xe{construct(e,i,a){return new s(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let i=[];for(let a of e){if(a.indexOf("//")>=0)throw new E(b.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new s(i)}static emptyPath(){return new s([])}},Oo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$n=class s extends Xe{construct(e,i,a){return new s(e,i,a)}static isValidIdentifier(e){return Oo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),s.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cs}static keyField(){return new s([cs])}static fromServerFormat(e){let i=[],a="",l=0,_=()=>{if(a.length===0)throw new E(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""},v=!1;for(;l<e.length;){let w=e[l];if(w==="\\"){if(l+1===e.length)throw new E(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let I=e[l+1];if(I!=="\\"&&I!=="."&&I!=="`")throw new E(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=I,l+=2}else w==="`"?(v=!v,l++):w!=="."||v?(a+=w,l++):(_(),l++)}if(_(),v)throw new E(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new s(i)}static emptyPath(){return new s([])}};var lt=class s{constructor(e){this.path=e}static fromPath(e){return new s(ct.fromString(e))}static fromName(e){return new s(ct.fromString(e).popFirst(5))}static empty(){return new s(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ct.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new s(new ct(e.slice()))}};function Mo(s,e,i,a){if(e===!0&&a===!0)throw new E(b.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Lo(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function qo(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{let e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":G(12329,{type:typeof s})}function Uo(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new E(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=qo(s);throw new E(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function k(s,e){let i={typeString:s};return e&&(i.value=e),i}function Te(s,e){if(!Lo(s))throw new E(b.INVALID_ARGUMENT,"JSON must be an object");let i;for(let a in e)if(e[a]){let l=e[a].typeString,_="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}let v=s[a];if(l&&typeof v!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(_!==void 0&&v!==_.value){i=`Expected '${a}' field to equal '${_.value}'`;break}}if(i)throw new E(b.INVALID_ARGUMENT,i);return!0}var ls=-62135596800,hs=1e6,me=class s{static now(){return s.fromMillis(Date.now())}static fromDate(e){return s.fromMillis(e.getTime())}static fromMillis(e){let i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*hs);return new s(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new E(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new E(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<ls)throw new E(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hs}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:s._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Te(e,s._jsonSchema))return new s(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-ls;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:k("string",me._jsonSchemaVersion),seconds:k("number"),nanoseconds:k("number")};var zn=class{constructor(e,i,a,l){this.indexId=e,this.collectionGroup=i,this.fields=a,this.indexState=l}};zn.UNKNOWN_ID=-1;function Bo(s){return s.name==="IndexedDbTransactionError"}function jo(s){return s===0&&1/s==-1/0}var $o="remoteDocuments",Is="owner";var Es="mutationQueues";var As="mutations";var bs="documentMutations",zo="remoteDocumentsV14";var Ss="remoteDocumentGlobal";var Rs="targets";var Ps="targetDocuments";var Vs="targetGlobal",Cs="collectionParents";var xs="clientMetadata";var Ds="bundles";var Ns="namedQueries";var Go="indexConfiguration";var Ko="indexState";var Qo="indexEntries";var ks="documentOverlays";var Wo="globals";var Ho=[Es,As,bs,$o,Rs,Is,Vs,Ps,xs,Ss,Cs,Ds,Ns],$a=[...Ho,ks],Xo=[Es,As,bs,zo,Rs,Is,Vs,Ps,xs,Ss,Cs,Ds,Ns,ks],Jo=Xo,Yo=[...Jo,Go,Ko,Qo];var za=[...Yo,Wo];var Ut=class s{constructor(e,i){this.comparator=e,this.root=i||rt.EMPTY}insert(e,i){return new s(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new s(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){let a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){let l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){let e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ft(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ft(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ft(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ft(this.root,e,this.comparator,!0)}},Ft=class{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let _=1;for(;!e.isEmpty();)if(_=i?a(e.key,i):1,i&&l&&(_*=-1),_<0)e=this.isReverse?e.left:e.right;else{if(_===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},rt=class s{constructor(e,i,a,l,_){this.key=e,this.value=i,this.color=a??s.RED,this.left=l??s.EMPTY,this.right=_??s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,_){return new s(e??this.key,i??this.value,a??this.color,l??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this,_=a(e,l.key);return l=_<0?l.copy(null,null,null,l.left.insert(e,i,a),null):_===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return s.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw G(27949);return e+(this.isRed()?0:1)}};rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(e,i,a,l,_){return this}insert(e,i,a){return new rt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Je=class s{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){let a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){let l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){let i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ye(this.data.getIterator())}getIteratorFrom(e){return new Ye(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof s)||this.size!==e.size)return!1;let i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){let l=i.getNext().key,_=a.getNext().key;if(this.comparator(l,_)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(i=>{e.push(i)}),e}toString(){let e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){let i=new s(this.comparator);return i.data=e,i}},Ye=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Gn=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var pt=class s{constructor(e){this.binaryString=e}static fromBase64String(e){let i=(function(l){try{return atob(l)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new Gn("Invalid base64 string: "+_):_}})(e);return new s(i)}static fromUint8Array(e){let i=(function(l){let _="";for(let v=0;v<l.length;++v)_+=String.fromCharCode(l[v]);return _})(e);return new s(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){let a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};pt.EMPTY_BYTE_STRING=new pt("");var Zo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(s){if(At(!!s,39018),typeof s=="string"){let e=0,i=Zo.exec(s);if(At(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}let a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ea(s){return typeof s=="string"?pt.fromBase64String(s):pt.fromUint8Array(s)}var Kn="(default)",Qn=class s{constructor(e,i){this.projectId=e,this.database=i||Kn}static empty(){return new s("","")}get isDefaultDatabase(){return this.database===Kn}isEqual(e){return e instanceof s&&e.projectId===this.projectId&&e.database===this.database}};var Fs="__type__",na="__max__";var Os="__vector__",Ms="value";function ra(s){var e,i;return((i=(((e=s?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fs])===null||i===void 0?void 0:i.stringValue)===Os}function ia(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===na}var Ka={mapValue:{fields:{[Fs]:{stringValue:Os},[Ms]:{arrayValue:{}}}}};var Wn=class{constructor(e,i=null,a=[],l=[],_=null,v="F",w=null,I=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=_,this.limitType=v,this.startAt=w,this.endAt=I,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function sa(s){return new Wn(s)}var Qa=new Ut(lt.comparator);var Wa=new Ut(lt.comparator);var Ha=new Ut(lt.comparator),Xa=new Je(lt.comparator);var Ja=new Je(J);var ds,A;(A=ds||(ds={}))[A.OK=0]="OK",A[A.CANCELLED=1]="CANCELLED",A[A.UNKNOWN=2]="UNKNOWN",A[A.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",A[A.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",A[A.NOT_FOUND=5]="NOT_FOUND",A[A.ALREADY_EXISTS=6]="ALREADY_EXISTS",A[A.PERMISSION_DENIED=7]="PERMISSION_DENIED",A[A.UNAUTHENTICATED=16]="UNAUTHENTICATED",A[A.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",A[A.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",A[A.ABORTED=10]="ABORTED",A[A.OUT_OF_RANGE=11]="OUT_OF_RANGE",A[A.UNIMPLEMENTED=12]="UNIMPLEMENTED",A[A.INTERNAL=13]="INTERNAL",A[A.UNAVAILABLE=14]="UNAVAILABLE",A[A.DATA_LOSS=15]="DATA_LOSS";var Ya=new Ke([4294967295,4294967295],0);var Ze=class{constructor(){}bt(e,i){this.Dt(e,i),i.vt()}Dt(e,i){if("nullValue"in e)this.Ct(i,5);else if("booleanValue"in e)this.Ct(i,10),i.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(i,15),i.Ft(ge(e.integerValue));else if("doubleValue"in e){let a=ge(e.doubleValue);isNaN(a)?this.Ct(i,13):(this.Ct(i,15),jo(a)?i.Ft(0):i.Ft(a))}else if("timestampValue"in e){let a=e.timestampValue;this.Ct(i,20),typeof a=="string"&&(a=ta(a)),i.Mt(`${a.seconds||""}`),i.Ft(a.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,i),this.Ot(i);else if("bytesValue"in e)this.Ct(i,30),i.Nt(ea(e.bytesValue)),this.Ot(i);else if("referenceValue"in e)this.Bt(e.referenceValue,i);else if("geoPointValue"in e){let a=e.geoPointValue;this.Ct(i,45),i.Ft(a.latitude||0),i.Ft(a.longitude||0)}else"mapValue"in e?ia(e)?this.Ct(i,Number.MAX_SAFE_INTEGER):ra(e)?this.Lt(e.mapValue,i):(this.kt(e.mapValue,i),this.Ot(i)):"arrayValue"in e?(this.qt(e.arrayValue,i),this.Ot(i)):G(19022,{Qt:e})}xt(e,i){this.Ct(i,25),this.$t(e,i)}$t(e,i){i.Mt(e)}kt(e,i){let a=e.fields||{};this.Ct(i,55);for(let l of Object.keys(a))this.xt(l,i),this.Dt(a[l],i)}Lt(e,i){var a,l;let _=e.fields||{};this.Ct(i,53);let v=Ms,w=((l=(a=_[v].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.length)||0;this.Ct(i,15),i.Ft(ge(w)),this.xt(v,i),this.Dt(_[v],i)}qt(e,i){let a=e.values||[];this.Ct(i,50);for(let l of a)this.Dt(l,i)}Bt(e,i){this.Ct(i,37),lt.fromName(e).path.forEach(a=>{this.Ct(i,60),this.$t(a,i)})}Ct(e,i){e.Ft(i)}Ot(e){e.Ft(2)}};Ze.Ut=new Ze;var Za=new Uint8Array(0);var Ls=41943040,nt=class s{static withCacheSize(e){return new s(e,s.DEFAULT_COLLECTION_PERCENTILE,s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}};nt.DEFAULT_COLLECTION_PERCENTILE=10,nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nt.DEFAULT=new nt(Ls,nt.DEFAULT_COLLECTION_PERCENTILE,nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nt.DISABLED=new nt(-1,0,0);var oa=1048576;function Fn(){return typeof document<"u"?document:null}var Hn=class{constructor(e,i,a=1e3,l=1.5,_=6e4){this.Fi=e,this.timerId=i,this.d_=a,this.E_=l,this.A_=_,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let i=Math.floor(this.R_+this.p_()),a=Math.max(0,Date.now()-this.m_),l=Math.max(0,i-a);l>0&&Z("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Xn=class s{constructor(e,i,a,l,_){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=_,this.deferred=new bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,_){let v=Date.now()+a,w=new s(e,i,v,l,_);return w.start(a),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new E(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var fs,ms;(ms=fs||(fs={})).Fa="default",ms.Cache="cache";function aa(s){let e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}var gs=new Map;var qs="firestore.googleapis.com",ps=!0,tn=class{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new E(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qs,this.ssl=ps}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:ps;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ls;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oa)throw new E(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mo("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aa((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(_){if(_.timeoutSeconds!==void 0){if(isNaN(_.timeoutSeconds))throw new E(b.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (must not be NaN)`);if(_.timeoutSeconds<5)throw new E(b.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (minimum allowed value is 5)`);if(_.timeoutSeconds>30)throw new E(b.INVALID_ARGUMENT,`invalid long polling timeout: ${_.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},en=class{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tn({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new E(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new E(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tn(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new On;switch(a.type){case"firstParty":return new Un(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new E(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){let a=gs.get(i);a&&(Z("ComponentProvider","Removing Datastore"),gs.delete(i),a.terminate())})(this),Promise.resolve()}};function Us(s,e,i,a={}){var l;s=Uo(s,en);let _=Ti(e),v=s._getSettings(),w=Object.assign(Object.assign({},v),{emulatorOptions:s._getEmulatorOptions()}),I=`${e}:${i}`;_&&(Ii(`https://${I}`),Ai("Firestore",!0)),v.host!==qs&&v.host!==I&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let V=Object.assign(Object.assign({},v),{host:I,ssl:_,emulatorOptions:a});if(!Si(V,w)&&(s._setSettings(V),a.mockUserToken)){let K,H;if(typeof a.mockUserToken=="string")K=a.mockUserToken,H=O.MOCK_USER;else{K=Ei(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);let D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new E(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");H=new O(D)}s._authCredentials=new Mn(new We(K,H))}}var Jn=class s{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new s(this.firestore,e,this._query)}},St=class s{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new s(this.firestore,e,this._key)}toJSON(){return{type:s._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Te(i,s._jsonSchema))return new s(e,a||null,new lt(ct.fromString(i.referencePath)))}};St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:k("string",St._jsonSchemaVersion),referencePath:k("string")};var Yn=class s extends Jn{constructor(e,i,a){super(e,i,sa(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new lt(e))}withConverter(e){return new s(this.firestore,e,this._path)}};var ys="AsyncQueue",nn=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Hn(this,"async_queue_retry"),this.oc=()=>{let a=Fn();a&&Z(ys,"Visibility state changed to "+a.visibilityState),this.F_.y_()},this._c=e;let i=Fn();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let i=Fn();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let i=new bt;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Bo(e))throw e;Z(ys,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let i=this._c.then(()=>(this.nc=!0,e().catch(a=>{throw this.tc=a,this.nc=!1,vs("INTERNAL UNHANDLED ERROR: ",_s(a)),a}).then(a=>(this.nc=!1,a))));return this._c=i,i}enqueueAfterDelay(e,i,a){this.ac(),this.sc.indexOf(e)>-1&&(i=0);let l=Xn.createAndSchedule(this,e,i,a,_=>this.lc(_));return this.ec.push(l),l}ac(){this.tc&&G(47125,{hc:_s(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(let i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let i=this.ec.indexOf(e);this.ec.splice(i,1)}};function _s(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}var Zn=class extends en{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new nn,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new nn(e),this._firestoreClient=void 0,await e}}};function Bs(s,e){let i=typeof s=="object"?s:Ni(),a=typeof s=="string"?s:e||Kn,l=Ci(i,"firestore").getImmediate({identifier:a});if(!l._initialized){let _=vi("firestore");_&&Us(l,..._)}return l}var pe=class s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new s(pt.fromBase64String(e))}catch(i){throw new E(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new s(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:s._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Te(e,s._jsonSchema))return s.fromBase64String(e.bytes)}};pe._jsonSchemaVersion="firestore/bytes/1.0",pe._jsonSchema={type:k("string",pe._jsonSchemaVersion),bytes:k("string")};var rn=class{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new E(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ye=class s{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new E(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new E(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:s._jsonSchemaVersion}}static fromJSON(e){if(Te(e,s._jsonSchema))return new s(e.latitude,e.longitude)}};ye._jsonSchemaVersion="firestore/geoPoint/1.0",ye._jsonSchema={type:k("string",ye._jsonSchemaVersion),latitude:k("number"),longitude:k("number")};var _e=class s{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let _=0;_<a.length;++_)if(a[_]!==l[_])return!1;return!0})(this._values,e._values)}toJSON(){return{type:s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Te(e,s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new s(e.vectorValues);throw new E(b.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};_e._jsonSchemaVersion="firestore/vectorValue/1.0",_e._jsonSchema={type:k("string",_e._jsonSchemaVersion),vectorValues:k("object")};var ua=new RegExp("[~\\*/\\[\\]]");function ca(s,e,i){if(e.search(ua)>=0)throw ws(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new rn(...e.split("."))._internalPath}catch{throw ws(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ws(s,e,i,a,l){let _=a&&!a.isEmpty(),v=l!==void 0,w=`Function ${e}() called with invalid data`;i&&(w+=" (via `toFirestore()`)"),w+=". ";let I="";return(_||v)&&(I+=" (found",_&&(I+=` in field ${a}`),v&&(I+=` in document ${l}`),I+=")"),new E(b.INVALID_ARGUMENT,w+s+I)}var sn=class{constructor(e,i,a,l,_){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new tr(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let i=this._document.data.field(js("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}},tr=class extends sn{data(){return super.data()}};function js(s,e){return typeof e=="string"?ca(s,e):e instanceof rn?e._internalPath:e._delegate._internalPath}var Ot=class{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Mt=class s extends sn{constructor(e,i,a,l,_,v){super(e,i,a,l,v),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let i=new Lt(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){let a=this._document.data.field(js("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new E(b.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,i={};return i.type=s._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}};Mt._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mt._jsonSchema={type:k("string",Mt._jsonSchemaVersion),bundleSource:k("string","DocumentSnapshot"),bundleName:k("string"),bundle:k("string")};var Lt=class extends Mt{data(e={}){return super.data(e)}},we=class s{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ot(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){let e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Lt(this._firestore,this._userDataWriter,a.key,a,new Ot(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new E(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,_){if(l._snapshot.oldDocs.isEmpty()){let v=0;return l._snapshot.docChanges.map(w=>{let I=new Lt(l._firestore,l._userDataWriter,w.doc.key,w.doc,new Ot(l._snapshot.mutatedKeys.has(w.doc.key),l._snapshot.fromCache),l.query.converter);return w.doc,{type:"added",doc:I,oldIndex:-1,newIndex:v++}})}{let v=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(w=>_||w.type!==3).map(w=>{let I=new Lt(l._firestore,l._userDataWriter,w.doc.key,w.doc,new Ot(l._snapshot.mutatedKeys.has(w.doc.key),l._snapshot.fromCache),l.query.converter),V=-1,K=-1;return w.type!==0&&(V=v.indexOf(w.doc.key),v=v.delete(w.doc.key)),w.type!==1&&(v=v.add(w.doc),K=v.indexOf(w.doc.key)),{type:la(w.type),doc:I,oldIndex:V,newIndex:K}})}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new E(b.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=s._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jn.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let i=[],a=[],l=[];return this.docs.forEach(_=>{_._document!==null&&(i.push(_._document),a.push(this._userDataWriter.convertObjectMap(_._document.data.value.mapValue.fields,"previous")),l.push(_.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function la(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G(61501,{type:s})}}we._jsonSchemaVersion="firestore/querySnapshot/1.0",we._jsonSchema={type:k("string",we._jsonSchemaVersion),bundleSource:k("string","QuerySnapshot"),bundleName:k("string"),bundle:k("string")};(function(e,i=!0){(function(l){ve=l})(Di),Vi(new Ri("firestore",(a,{instanceIdentifier:l,options:_})=>{let v=a.getProvider("app").getImmediate(),w=new Zn(new Ln(a.getProvider("auth-internal")),new Bn(v,a.getProvider("app-check-internal")),(function(V,K){if(!Object.prototype.hasOwnProperty.apply(V.options,["projectId"]))throw new E(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qn(V.options.projectId,K)})(v,l),v);return _=Object.assign({useFetchStreams:i},_),w._setSettings(_),w},"PUBLIC").setMultipleInstances(!0)),fe(os,as,e),fe(os,as,"esm2017")})();var Ie=class{constructor(e){return e}},$s="firestore",nr=class{constructor(){return Oi($s)}};var rr=new si("angularfire2.firestore-instances");function ha(s,e){let i=Fi($s,s,e);return i&&new Ie(i)}function da(s){return(e,i)=>{let a=e.runOutsideAngular(()=>s(i));return new Ie(a)}}var fa={provide:nr,deps:[[new ue,rr]]},ma={provide:Ie,useFactory:ha,deps:[[new ue,rr],qi]};function zs(s,...e){return fe("angularfire",ki.full,"fst"),oi([ma,fa,{provide:rr,useFactory:da(s),multi:!0,deps:[ui,ai,Mi,Ui,[new ue,zi],[new ue,$i],...e]}])}var Gs=Li(Bs,!0);var ga={apiKey:"AIzaSyAmQU4bSdu9seME33ew-Upfx_uAUqvUVhI",authDomain:"portafolio-ds.firebaseapp.com",projectId:"portafolio-ds",storageBucket:"portafolio-ds.firebasestorage.app",messagingSenderId:"199254646722",appId:"1:199254646722:web:21f7b1d0d48bd940a3c05b",measurementId:"G-PDMX05FDT8",projectNumber:"199254646722",version:"2"},Ks={providers:[ci(),wi(Wi),Bi(()=>ji(ga)),Gi(()=>Ki()),zs(()=>Gs())]};function pa(s,e){if(s&1){let i=de();z(0,"button",13),Et("click",function(){oe(i);let l=kt();return ae(l.navigateToLogin())}),at(1," Iniciar Sesi\xF3n "),W()}}function ya(s,e){if(s&1){let i=de();z(0,"div",12)(1,"label",14)(2,"div",15)(3,"span",16),at(4),W()()(),z(5,"ul",17)(6,"li",18)(7,"span",19),at(8),W()(),It(9,"div",20),z(10,"li")(11,"button",21),Et("click",function(){oe(i);let l=kt();return ae(l.logout())}),Be(),z(12,"svg",22),It(13,"path",23),W(),at(14," Cerrar Sesi\xF3n "),W()()()()}if(s&2){let i,a,l=kt();ce(4),gi(" ",(i=l.currentUser())==null||i.email==null||(i=i.email.charAt(0))==null?null:i.toUpperCase()," "),ce(4),mi((a=l.currentUser())==null?null:a.email)}}var on=class s{logo="assets/logo.png";authService=Dt(Ge);router=Dt($e);currentUser=this.authService.currentUser;isAuthenticated=this.authService.isAuthenticated;favoritesService;navigateToLogin(){this.router.navigate(["/login"])}logout(){confirm("\xBFCerrar sesi\xF3n?")&&this.authService.logout().subscribe({next:()=>{this.router.navigate(["/login"])},error:e=>{console.error("Error al cerrar sesi\xF3n:",e)}})}async scrollToProjects(e){e.preventDefault();let i=()=>{let a=document.getElementById("proyectos");a&&a.scrollIntoView({behavior:"smooth",block:"start"})};if(this.router.url.includes("/inicio")){i();return}await this.router.navigate(["/inicio"]),setTimeout(()=>i(),80)}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}async goHome(e){if(e.preventDefault(),this.router.url.includes("/inicio")){this.scrollToTop();return}try{await this.router.navigate(["/inicio"]),setTimeout(()=>this.scrollToTop(),80)}catch(i){console.error("Error al navegar a /inicio:",i)}}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=Nt({type:s,selectors:[["app-navbar"]],decls:18,vars:2,consts:[[1,"w-full","bg-cyan-900","shadow-md","fixed","top-0","left-0","z-50"],[1,"navbar","px-8","max-w-6xl","mx-auto","w-full","text-white","flex","justify-between","items-center"],[1,"flex","items-center","gap-3","py-3"],["src","assets/logo.jpg","alt","logo",1,"h-12","w-12","rounded-full","border","border-white","shadow"],[1,"font-Lora","text-xl","tracking-wide","font-bold"],[1,"flex","gap-8","text-[15px]"],["href","#",1,"relative","after:block","after:h-0.5","after:w-0","after:bg-cyan-950","after:transition-all","after:duration-300","hover:after:w-full",3,"click"],["routerLink","/contacto",1,"relative","after:block","after:h-0.5","after:w-0","after:bg-cyan-950","after:transition-all","after:duration-300","hover:after:w-full"],[1,"flex","items-center","gap-4"],[1,"mx-2","flex-1"],[1,"flex","items-center","gap-3"],[1,"px-4","py-2","rounded-md","bg-white","text-cyan-900","font-semibold","shadow","hover:bg-cyan-100","transition"],[1,"dropdown","dropdown-end"],[1,"px-4","py-2","rounded-md","bg-white","text-cyan-900","font-semibold","shadow","hover:bg-cyan-100","transition",3,"click"],["tabindex","0",1,"btn","btn-ghost","btn-circle","avatar"],[1,"w-10","rounded-full","bg-blue-100","text-primary-content","flex","items-center","justify-center"],[1,"text-lg","font-bold"],["tabindex","0",1,"mt-3","z-1","p-2","shadow","menu","menu-sm","dropdown-content","bg-base-100","rounded-box","w-56"],[1,"menu-title"],[1,"text-xs"],[1,"divider","my-0"],[1,"btn","btn-error","btn-sm","w-full","text-left",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"]],template:function(i,a){i&1&&(z(0,"section",0)(1,"div",1)(2,"div",2),It(3,"img",3),z(4,"span",4),at(5," D&S | DevStudio "),W()(),z(6,"div",5)(7,"a",6),Et("click",function(_){return a.goHome(_)}),at(8," Inicio "),W(),z(9,"a",6),Et("click",function(_){return a.scrollToProjects(_)}),at(10," Proyectos "),W(),z(11,"a",7),at(12," Contacto "),W()(),z(13,"div",8)(14,"div",9)(15,"div",10),le(16,pa,2,0,"button",11),le(17,ya,15,2,"div",12),W()()()()()),i&2&&(ce(16),he(a.isAuthenticated()?-1:16),ce(),he(a.isAuthenticated()&&a.currentUser()?17:-1))},dependencies:[_i],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};function _a(s,e){if(s&1){let i=de();kn(0,"div",0)(1,"button",1),fi("click",function(){oe(i);let l=kt();return ae(l.scrollToTop())}),Be(),kn(2,"svg",2),di(3,"path",3),hi()()()}}var an=class s{isVisible=je(!1);onScroll(){this.isVisible.set(window.scrollY>300)}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=Nt({type:s,selectors:[["app-back-to-top"]],hostBindings:function(i,a){i&1&&Et("scroll",function(){return a.onScroll()},li)},decls:1,vars:1,consts:[[1,"fixed","bottom-6","right-6","z-50"],["aria-label","Volver arriba",1,"btn","btn-circle","btn-primary","shadow-lg",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 10l7-7m0 0l7 7m-7-7v18"]],template:function(i,a){i&1&&le(0,_a,4,0,"div",0),i&2&&he(a.isVisible()?0:-1)},encapsulation:2,changeDetection:0})};var un=class s{title=je("proyecto-portafolio");static \u0275fac=function(i){return new(i||s)};static \u0275cmp=Nt({type:s,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"pt-20"]],template:function(i,a){i&1&&(z(0,"main",0),It(1,"app-navbar")(2,"router-outlet"),W(),It(3,"app-back-to-top"))},dependencies:[yi,on,an],encapsulation:2})};pi(un,Ks).catch(s=>console.error(s));
